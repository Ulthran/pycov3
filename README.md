# pycov3

[![codecov](https://codecov.io/gh/Ulthran/pycov3/branch/main/graph/badge.svg?token=pycov3_token_here)](https://codecov.io/gh/Ulthran/pycov3)
[![CI](https://github.com/Ulthran/pycov3/actions/workflows/main.yml/badge.svg)](https://github.com/Ulthran/pycov3/actions/workflows/main.yml)

A package for generating cov3 files which are generated from sam files giving coverage information and a fasta file giving binned contigs. Cov3 files are used as input for the [DEMIC R package](https://github.com/Ulthran/DEMIC) which calculates PTR, an estimate for bacterial growth rates.

## Install it from PyPI

```bash
pip install pycov3
```

## Usage

```py
from pycov3 import BaseClass
from pycov3 import base_function

BaseClass().base_method()
base_function()
```

```bash
$ python -m pycov3
#or
$ pycov3
```

## CLI Arguments

-S, --sam_dir
      directory of input SAM files generated by bowtie2 (required)
-F, --fasta_dir
      directory of input FASTA files, each for a species (required)
-O, --out_dir
      directory of output files

-W, --window_size
      size (nt) of window for calculation of coverage (default: 5000)
-D, --window_step
      step (nt) of window for calculation of coverage (default: 100)
-M, --mapq_cutoff
      cutoff of mapping quality when calculating coverages (default: 5)
-L, --mapl_cutoff
      cutoff of mapping length when calculating coverages (default: 50)
-R, --max_mismatch_ratio
      maximum of mismatch ratio for each read as a hit (default: 0.03)

-h, --help
      show this help information

-T, --thread_num
      set number of threads for parallel running (default: 1)
-G, --log_level
      log level, default is info, 10 for debug (Default: 20)

## Development

Read the [CONTRIBUTING.md](CONTRIBUTING.md) file.
